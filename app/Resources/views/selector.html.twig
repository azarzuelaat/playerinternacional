<ul>
{% for name, lang in locales %}
    {% set locale = app.request.get('_locale') %}
    {% set name = 'selector.'~name %}
    {% if locale == lang %}
        <li class="current">
            <span>
                {{ name | trans }}
            </span>   
        </li>        
    {% else %}
        <li>
            <a class="{{ lang }}" href="{{ path(app.request.get('_route'), app.request.get('_route_params')|merge({'_locale': lang})) }}">
                {{ name | trans }}
            </a>            
        </li>    
    {% endif %}

{% endfor %}
</ul>